# Проектно-технологическая практика 2024

### Выполнили: _Валеев Глеб, Конова Екатерина_
---

### Описание проекта:
Данный проект представляет собой эмулятор передачи данных со спутников. По запросу пользователя проект загружает архивные данные со спутника, после чего они распаковываются и начинается стриминг данныx по временным интервалам

### Функционал:
* Загрузка данных: Сервер каждый день в определённое время загружает и распаковывает файлы RINEX, в которых содержатся данные наблюдений станций.
* Обработка данных: Полученные данные обрабатываются и преобразуются в потоковый формат для дальнейшей публикации.
* Получение топиков: С помощью FAstAPI пользователь вводит в запрос интересующие его станции и ему будут выданы темы по этим станциям
* Публикация данных: Обработанные данные публикуются в брокер по топикам, соответствующим определённым станциям станциям 
* Подписка на данные: Пользователи могут подключаться к брокеру и подписаться на определённые топики, чтобы получать потоковую информацию с выбранных станций

### Установка проекта:
* Перейдите в папку `practice` и склонируйте репозиторий:  `https://github.com/lemongoose228/practice2024.git`
```sh
mkdir practice
cd practice
git clone https://github.com/lemongoose228/practice2024.git

```
* Установите pip и зависимости, которые находятся в файле `requirements.txt`
```sh
sudo apt install python3-pip
pip install -r ./txt/requirements.txt
```
* Необходимо выдать права на исполнение всем файлам, для этого вам нужно будет дать права на исполнение файлу `issueRights` и запустить его
```sh 
chmod +x issueRights
./issueRights
```
* Необходимо задать путь к текущей директории
```sh 
nano ./txt/mainpath.txt
Введите туда путь до текущей директории, например /home/user/practice
```
### Запуск проекта:
* sudo apt install uvicorn
* Запуск сервера FastAPI: `uvicorn main:app --reload --port 8002 --host 0.0.0.0`
* Если вы запускаете проект локально, то откройте браузер и перейдите по адресу `http://127.0.0.1:8002/docs`, если вы запускаете его с виртуальной машины Яндекса, то перейдите по адресу `http://IP_вашей_ВМ:8002/docs`

## Функции FastAPI

``GetDate (/sites)``
Показывает список всех станций и соответствующие им доступные файлы данных.
* Вводные данные: Нет.
* Данные вывода: JSON объект со списком станций.


``Get Date (/sites/start)``
Заускает сиситему
* Вводные данные: дата в формате 2024-01-05
* Данные вывода: сообщение "Система успешно запущена, подождите некоторое время".

``Create Topics (/topics)``
Выводит темы по заданными прёмникам
* Вводные данные: JSON объект со списком станций.
* Данные вывода: JSON объект со списком тем по заданным приёмникам(если такие приёмники существуют).

## License

MIT
